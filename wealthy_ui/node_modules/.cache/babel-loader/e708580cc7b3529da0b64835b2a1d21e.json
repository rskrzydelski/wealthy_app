{"ast":null,"code":"var _jsxFileName = \"/Users/rafalskrzydelski/development/my_projects/wealth_ui/src/components/pages/Login.js\";\nimport React, { Component } from 'react';\nimport { loginUrl } from '../endpoints';\nimport { post } from '../api';\nimport Welcome from '../Welcome';\nimport { AuthWrapper, SubmitButton, Form, TextInput } from './css/auth';\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.Authenticate = data => {\n      const {\n        history\n      } = this.props;\n      localStorage.setItem('access', data.access);\n      localStorage.setItem('refresh', data.refresh);\n      this.props.isAuthenticated(true);\n      history.push('/');\n    };\n\n    this.loginUser = (email, password) => {\n      post(loginUrl, {\n        email: email,\n        password: password\n      }, this.Authenticate);\n    };\n\n    this.handleChange = event => {\n      const cr = this.state.credentials;\n      cr[event.target.name] = event.target.value;\n      this.setState({\n        credentials: cr\n      });\n    };\n\n    this.handleSubmit = event => {\n      this.loginUser(this.state.credentials.email, this.state.credentials.password);\n      this.setState({\n        credentials: {\n          email: '',\n          password: ''\n        }\n      });\n      event.preventDefault();\n    };\n\n    this.state = {\n      credentials: {\n        email: '',\n        password: ''\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(AuthWrapper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TextInput, {\n      type: \"email\",\n      name: \"email\",\n      placeholder: \"email\",\n      value: this.state.credentials.email,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(TextInput, {\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"password\",\n      value: this.state.credentials.password,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(SubmitButton, {\n      type: \"submit\",\n      value: \"Login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Welcome, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/rafalskrzydelski/development/my_projects/wealth_ui/src/components/pages/Login.js"],"names":["React","Component","loginUrl","post","Welcome","AuthWrapper","SubmitButton","Form","TextInput","Login","constructor","props","Authenticate","data","history","localStorage","setItem","access","refresh","isAuthenticated","push","loginUser","email","password","handleChange","event","cr","state","credentials","target","name","value","setState","handleSubmit","preventDefault","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n\nimport { loginUrl } from '../endpoints'\nimport { post } from '../api'\nimport Welcome from '../Welcome'\n\nimport { AuthWrapper, SubmitButton, Form, TextInput } from './css/auth'\n\nexport default class Login extends Component {\n    constructor (props) {\n      super(props)\n      this.state = {\n        credentials: { email: '', password: '' }\n      }\n    }\n\n    Authenticate = (data) => {\n      const { history } = this.props\n      localStorage.setItem('access', data.access)\n      localStorage.setItem('refresh', data.refresh)\n      this.props.isAuthenticated(true)\n      history.push('/')\n    }\n\n    loginUser = (email, password) => {\n      post(loginUrl, {email: email, password: password}, this.Authenticate)\n    }\n\n    handleChange = (event) => {\n        const cr = this.state.credentials\n        cr[event.target.name] = event.target.value\n        this.setState({ credentials: cr })\n    }\n\n    handleSubmit = (event) => {\n      this.loginUser(this.state.credentials.email, this.state.credentials.password)\n      this.setState({\n          credentials: { email: '', password: '' }\n        })\n      event.preventDefault();\n    }\n\n    render() {\n        return (\n          <AuthWrapper>\n            <Form onSubmit={this.handleSubmit}>\n                <TextInput\n                  type='email'\n                  name='email'\n                  placeholder='email'\n                  value={this.state.credentials.email}\n                  onChange={this.handleChange}\n                />\n                <TextInput\n                  type='password'\n                  name='password'\n                  placeholder='password'\n                  value={this.state.credentials.password}\n                  onChange={this.handleChange}\n                />\n              <SubmitButton type=\"submit\" value=\"Login\" />\n            </Form>\n            <Welcome />\n          </AuthWrapper>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}