{"ast":null,"code":"var _jsxFileName = \"/Users/rafalskrzydelski/development/my_projects/wealth_ui/src/components/pages/Market.js\";\nimport React, { Component } from 'react';\nimport Axios from 'axios';\nimport { marketGold999ozUrl, marketGold585gUrl, marketSilver999ozUrl, marketSilver800gUrl, marketBtcUrl, marketEthUrl, marketFlmUrl, marketLtcUrl, accountUrl, refreshTokenUrl } from '../endpoints';\nimport { MarketContainer, MarketItem, MarketText, TextSpan } from './css/market';\nimport { Gold999Icon, Gold585Icon, Silver800Icon, Silver999Icon, FlmIcon, EthIcon, LtcIcon, BtnIcon } from './css/market';\nexport default class Market extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getCurrency = async () => {\n      try {\n        const res = await Axios.get(accountUrl, {\n          headers: {\n            authorization: 'JWT ' + localStorage.getItem('access')\n          }\n        });\n\n        if (res.data.my_currency === 'PLN') {\n          this.setState({\n            my_currency: 'zł'\n          });\n        } else if (res.data.my_currency === 'USD') {\n          this.setState({\n            my_currency: '$'\n          });\n        } else if (res.data.my_currency === 'EUR') {\n          this.setState({\n            my_currency: '€'\n          });\n        } else if (res.data.my_currency === 'CHF') {\n          this.setState({\n            my_currency: 'chf'\n          });\n        }\n      } catch (error) {}\n    };\n\n    this.getMarketData = async () => {\n      try {\n        const gold999Promise = Axios(marketGold999ozUrl, {\n          headers: {\n            authorization: 'JWT ' + localStorage.getItem('access')\n          }\n        });\n        const gold585Promise = Axios(marketGold585gUrl, {\n          headers: {\n            authorization: 'JWT ' + localStorage.getItem('access')\n          }\n        });\n        const silver999Promise = Axios(marketSilver999ozUrl, {\n          headers: {\n            authorization: 'JWT ' + localStorage.getItem('access')\n          }\n        });\n        const silver800Promise = Axios(marketSilver800gUrl, {\n          headers: {\n            authorization: 'JWT ' + localStorage.getItem('access')\n          }\n        });\n        const BtcPromise = Axios(marketBtcUrl, {\n          headers: {\n            authorization: 'JWT ' + localStorage.getItem('access')\n          }\n        });\n        const EthPromise = Axios(marketEthUrl, {\n          headers: {\n            authorization: 'JWT ' + localStorage.getItem('access')\n          }\n        });\n        const LtcPromise = Axios(marketLtcUrl, {\n          headers: {\n            authorization: 'JWT ' + localStorage.getItem('access')\n          }\n        });\n        const FlmPromise = Axios(marketFlmUrl, {\n          headers: {\n            authorization: 'JWT ' + localStorage.getItem('access')\n          }\n        });\n        const res = await Promise.all([gold999Promise, gold585Promise, silver999Promise, silver800Promise, BtcPromise, EthPromise, LtcPromise, FlmPromise]);\n        var market = { ...this.state.market\n        };\n        market.gold999oz = res[0].data.price;\n        market.gold585g = res[1].data.price;\n        market.silver999oz = res[2].data.price;\n        market.silver800g = res[3].data.price;\n        market.btc = res[4].data.price;\n        market.eth = res[5].data.price;\n        market.ltc = res[6].data.price;\n        market.flm = res[7].data.price;\n        this.setState({\n          market\n        });\n      } catch (error) {\n        console.log(error);\n\n        if (error.response.status === 401) {\n          const res = await Axios.post(refreshTokenUrl, {\n            refresh: localStorage.getItem('refresh')\n          });\n          localStorage.setItem('access', res.data.access);\n          this.getMarketData();\n        }\n      }\n    };\n\n    this.state = {\n      market: {\n        gold999oz: '',\n        gold585g: '',\n        silver999oz: '',\n        silver800g: '',\n        btc: '',\n        eth: '',\n        flm: '',\n        ltc: ''\n      },\n      my_currency: ''\n    };\n  }\n\n  componentDidMount() {\n    this.getMarketData();\n    this.getCurrency();\n    const timer = 60 * 1000;\n    this.myInterval = setInterval(this.getMarketData, timer);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.myInterval);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(MarketContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(MarketItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Gold999Icon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(MarketText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(TextSpan, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 19\n      }\n    }, \"Gold 999 oz: \"), /*#__PURE__*/React.createElement(TextSpan, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 19\n      }\n    }, this.state.market.gold999oz, \" \", this.state.my_currency))), /*#__PURE__*/React.createElement(MarketItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Gold585Icon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(MarketText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(TextSpan, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 19\n      }\n    }, \"Gold 585 g: \"), /*#__PURE__*/React.createElement(TextSpan, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 19\n      }\n    }, this.state.market.gold585g, \" \", this.state.my_currency))), /*#__PURE__*/React.createElement(MarketItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Silver999Icon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(MarketText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(TextSpan, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 19\n      }\n    }, \"Silver 999 oz: \"), /*#__PURE__*/React.createElement(TextSpan, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 19\n      }\n    }, this.state.market.silver999oz, \" \", this.state.my_currency))), /*#__PURE__*/React.createElement(MarketItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Silver800Icon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(MarketText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(TextSpan, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 19\n      }\n    }, \"Silver 800 g: \"), /*#__PURE__*/React.createElement(TextSpan, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 19\n      }\n    }, this.state.market.silver800g, \" \", this.state.my_currency))), /*#__PURE__*/React.createElement(MarketItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(BtnIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(MarketText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(TextSpan, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 19\n      }\n    }, \"BTC: \"), /*#__PURE__*/React.createElement(TextSpan, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 19\n      }\n    }, this.state.market.btc, \" \", this.state.my_currency))), /*#__PURE__*/React.createElement(MarketItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(EthIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(MarketText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(TextSpan, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 19\n      }\n    }, \"ETH: \"), /*#__PURE__*/React.createElement(TextSpan, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 19\n      }\n    }, this.state.market.eth, \" \", this.state.my_currency))), /*#__PURE__*/React.createElement(MarketItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(FlmIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(MarketText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(TextSpan, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 19\n      }\n    }, \"FLM: \"), /*#__PURE__*/React.createElement(TextSpan, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 19\n      }\n    }, this.state.market.flm, \" \", this.state.my_currency))), /*#__PURE__*/React.createElement(MarketItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(LtcIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(MarketText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(TextSpan, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 19\n      }\n    }, \"LTC: \"), /*#__PURE__*/React.createElement(TextSpan, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 19\n      }\n    }, this.state.market.ltc, \" \", this.state.my_currency))));\n  }\n\n}","map":{"version":3,"sources":["/Users/rafalskrzydelski/development/my_projects/wealth_ui/src/components/pages/Market.js"],"names":["React","Component","Axios","marketGold999ozUrl","marketGold585gUrl","marketSilver999ozUrl","marketSilver800gUrl","marketBtcUrl","marketEthUrl","marketFlmUrl","marketLtcUrl","accountUrl","refreshTokenUrl","MarketContainer","MarketItem","MarketText","TextSpan","Gold999Icon","Gold585Icon","Silver800Icon","Silver999Icon","FlmIcon","EthIcon","LtcIcon","BtnIcon","Market","constructor","props","getCurrency","res","get","headers","authorization","localStorage","getItem","data","my_currency","setState","error","getMarketData","gold999Promise","gold585Promise","silver999Promise","silver800Promise","BtcPromise","EthPromise","LtcPromise","FlmPromise","Promise","all","market","state","gold999oz","price","gold585g","silver999oz","silver800g","btc","eth","ltc","flm","console","log","response","status","post","refresh","setItem","access","componentDidMount","timer","myInterval","setInterval","componentWillUnmount","clearInterval","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Axios from 'axios'\n\nimport { \n  marketGold999ozUrl,\n  marketGold585gUrl,\n  marketSilver999ozUrl,\n  marketSilver800gUrl,\n  marketBtcUrl,\n  marketEthUrl,\n  marketFlmUrl,\n  marketLtcUrl,\n  accountUrl,\n  refreshTokenUrl\n} from '../endpoints'\n\nimport { MarketContainer, MarketItem, MarketText, TextSpan } from './css/market'\nimport { Gold999Icon, Gold585Icon, Silver800Icon, Silver999Icon, FlmIcon, EthIcon, LtcIcon, BtnIcon } from './css/market'\n\nexport default class Market extends Component {\n    constructor (props) {\n        super(props)\n        this.state = {\n          market: {\n            gold999oz: '',\n            gold585g: '',\n            silver999oz: '',\n            silver800g: '',\n            btc: '',\n            eth: '',\n            flm: '',\n            ltc: '',\n          },\n            my_currency: ''\n        }\n      }\n\n  getCurrency = async () => {\n    try {\n        const res = await Axios.get(accountUrl, {headers: {authorization: 'JWT ' + localStorage.getItem('access')}})\n        if (res.data.my_currency === 'PLN') {\n          this.setState({my_currency: 'zł'})\n        } else if (res.data.my_currency === 'USD') {\n          this.setState({my_currency: '$'})\n        } else if (res.data.my_currency === 'EUR') {\n          this.setState({my_currency: '€'})\n        } else if (res.data.my_currency === 'CHF') {\n          this.setState({my_currency: 'chf'})\n        }\n    } catch (error) {\n\n    }\n  }\n\n  getMarketData = async () => {\n    try {\n      const gold999Promise = Axios(marketGold999ozUrl, {headers: {authorization: 'JWT ' + localStorage.getItem('access')}})\n      const gold585Promise = Axios(marketGold585gUrl, {headers: {authorization: 'JWT ' + localStorage.getItem('access')}})\n      const silver999Promise = Axios(marketSilver999ozUrl, {headers: {authorization: 'JWT ' + localStorage.getItem('access')}})\n      const silver800Promise = Axios(marketSilver800gUrl, {headers: {authorization: 'JWT ' + localStorage.getItem('access')}})\n\n      const BtcPromise = Axios(marketBtcUrl, {headers: {authorization: 'JWT ' + localStorage.getItem('access')}})\n      const EthPromise = Axios(marketEthUrl, {headers: {authorization: 'JWT ' + localStorage.getItem('access')}})\n      const LtcPromise = Axios(marketLtcUrl, {headers: {authorization: 'JWT ' + localStorage.getItem('access')}})\n      const FlmPromise = Axios(marketFlmUrl, {headers: {authorization: 'JWT ' + localStorage.getItem('access')}})\n\n      const res = await Promise.all([gold999Promise, gold585Promise, silver999Promise, silver800Promise, BtcPromise, EthPromise, LtcPromise, FlmPromise])\n      var market = {...this.state.market}\n      market.gold999oz = res[0].data.price\n      market.gold585g = res[1].data.price\n      market.silver999oz = res[2].data.price\n      market.silver800g = res[3].data.price\n      market.btc = res[4].data.price\n      market.eth = res[5].data.price\n      market.ltc = res[6].data.price\n      market.flm = res[7].data.price\n\n      this.setState({market})\n    } catch (error) {\n      console.log(error)\n      if (error.response.status === 401) {\n        const res = await Axios.post(refreshTokenUrl, {refresh: localStorage.getItem('refresh')})\n        localStorage.setItem('access', res.data.access)\n        this.getMarketData()\n      } \n    }\n  }\n\n  componentDidMount () {\n    this.getMarketData()\n    this.getCurrency()\n    const timer = 60 * 1000\n    this.myInterval = setInterval(this.getMarketData, timer)\n  }\n\n  componentWillUnmount() {\n      clearInterval(this.myInterval)\n  }\n\n  render() {\n    return (\n        <MarketContainer>\n            <MarketItem>\n                <Gold999Icon />\n                <MarketText>\n                  <TextSpan>Gold 999 oz: </TextSpan>\n                  <TextSpan>{this.state.market.gold999oz} {this.state.my_currency}</TextSpan>\n                </MarketText>\n            </MarketItem>\n            <MarketItem>\n                <Gold585Icon />\n                <MarketText>\n                  <TextSpan>Gold 585 g: </TextSpan>\n                  <TextSpan>{this.state.market.gold585g} {this.state.my_currency}</TextSpan>\n                </MarketText>\n            </MarketItem>\n            <MarketItem>\n                <Silver999Icon />\n                <MarketText>\n                  <TextSpan>Silver 999 oz: </TextSpan>\n                  <TextSpan>{this.state.market.silver999oz} {this.state.my_currency}</TextSpan>\n                </MarketText>\n            </MarketItem>\n            <MarketItem>\n                <Silver800Icon />\n                <MarketText>\n                  <TextSpan>Silver 800 g: </TextSpan>\n                  <TextSpan>{this.state.market.silver800g} {this.state.my_currency}</TextSpan>\n                </MarketText>\n            </MarketItem>\n            <MarketItem>\n                <BtnIcon />\n                <MarketText>\n                  <TextSpan>BTC: </TextSpan>\n                  <TextSpan>{this.state.market.btc} {this.state.my_currency}</TextSpan>\n                </MarketText>\n            </MarketItem>\n            <MarketItem>\n                <EthIcon />\n                <MarketText>\n                  <TextSpan>ETH: </TextSpan>\n                  <TextSpan>{this.state.market.eth} {this.state.my_currency}</TextSpan>\n                </MarketText>\n            </MarketItem>\n            <MarketItem>\n                <FlmIcon />\n                <MarketText>\n                  <TextSpan>FLM: </TextSpan>\n                  <TextSpan>{this.state.market.flm} {this.state.my_currency}</TextSpan>\n                </MarketText>\n            </MarketItem>\n            <MarketItem>\n                <LtcIcon />\n                <MarketText>\n                  <TextSpan>LTC: </TextSpan>\n                  <TextSpan>{this.state.market.ltc} {this.state.my_currency}</TextSpan>\n                </MarketText>\n            </MarketItem>\n          </MarketContainer>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}